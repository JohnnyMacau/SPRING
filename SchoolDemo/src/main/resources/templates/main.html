<!DOCTYPE html>
<!--
This is a starter template page. Use this page to start your new project from
scratch. This page gets rid of all links and provides the needed markup only.
-->
<html lang="zh-cn" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="x-ua-compatible" content="ie=edge">

    <title>School</title>

    <!-- Font Awesome Icons -->
    <link rel="stylesheet" th:href="@{/AdminLTE/plugins/fontawesome-free/css/all.min.css}">
    <!-- Theme style -->
    <link rel="stylesheet" th:href="@{/AdminLTE/dist/css/adminlte.min.css}">
    <!-- Google Font: Source Sans Pro -->
    <link th:href="@{/assets/fonts/ssp.css}"
          href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700" rel="stylesheet">


    <!-- daterange picker -->
    <link rel="stylesheet" th:href="@{/AdminLTE/plugins/daterangepicker/daterangepicker.css}"
          href="../../plugins/daterangepicker/daterangepicker.css">
    <!-- Toastr -->
    <link rel="stylesheet" th:href="@{/AdminLTE/plugins/toastr/toastr.min.css}"
          href="../../plugins/toastr/toastr.min.css">

    <!--self css-->
    <link rel="stylesheet" th:href="@{/assets/styles/self_basic.css}">

</head>
<body class="hold-transition sidebar-mini">
<div class="wrapper">

    <!-- Navbar -->
    <div th:replace="/commonFragment::navbar"></div>
    <!-- /.navbar -->

    <!-- Main Sidebar Container -->
    <div th:replace="/commonFragment::sidebar"></div>


    <!-- Content Wrapper. Contains page content -->
    <div class="content-wrapper">
        <section class="content">
            <iframe id="menuFrame" name="menuFrame"
                    style="overflow:visible;" scrolling="yes"
                    frameborder="no" height="100%" width="100%">
            </iframe>
        </section>
    </div>
    <!-- /.content-wrapper -->

    <!-- Control Sidebar -->
    <!-- /.control-sidebar -->

    <!-- Main Footer -->
    <!-- <footer class="main-footer">
     </footer>-->
</div>
<!-- ./wrapper -->

<!-- REQUIRED SCRIPTS -->

<!-- jQuery -->
<script th:src="@{/AdminLTE/plugins/jquery/jquery.min.js}"></script>
<!-- Bootstrap 4 -->
<script th:src="@{/AdminLTE/plugins/bootstrap/js/bootstrap.bundle.min.js}"></script>

<!-- date-range-picker -->
<script th:src="@{/AdminLTE/plugins/daterangepicker/moment.min.js}" src="../../plugins/moment/moment.min.js"></script>
<script th:src="@{/AdminLTE/plugins/daterangepicker/daterangepicker.js}"
        src="../../plugins/daterangepicker/daterangepicker.js"></script>

<!-- Toastr -->
<script th:src="@{/AdminLTE/plugins/toastr/toastr.min.js}" src="../../plugins/toastr/toastr.min.js"></script>


<!-- AdminLTE App -->
<script th:src="@{/AdminLTE/dist/js/adminlte.min.js}"></script>


<!--self js-->
<script th:src="@{/assets/js/self_basic.js}"></script>

</body>


<script>




    let nowDo = function () {
        $('.nav-sidebar li:not(.has-treeview) > a').click(function () {
//             console.log("222")
            var those = $('.nav-sidebar li:not(.has-treeview) > a');
            if (those) {
                those.removeClass('active');
                those.parentsUntil(".nav-sidebar > .nav-treeview").prev('a').removeClass('active')

            }

            $(this).addClass('active');
            $(this).parentsUntil(".nav-sidebar > .nav-treeview").prev('a').addClass('active')
        });

        $('.nav-sidebar li a.self_sidebar_maintitle').click(function () {
//             console.log("111")




            var those = $('.nav-sidebar li a.self_sidebar_maintitle').not(this);
            if (those) {
                // console.log("選中those")
                those.removeClass('active');
                those.parentsUntil(".nav-sidebar > .nav-treeview")
                    // .find('.menu-open')
                    .removeClass('menu-open');

                those.next('ul').css("display","none")
            }
            $(this).addClass('active');
        });
    };
    nowDo();




    const iframe = document.getElementById('menuFrame');

    function changeFrameHeight() {
        iframe.height = document.documentElement.clientHeight - 30;//30 是 navbar的高度
    }

    iframe.onload = function () {
        changeFrameHeight();
    }

    window.onresize = function () {
        changeFrameHeight();
    }




</script>


</html>
